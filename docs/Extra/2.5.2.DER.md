# 2.5.2. Diagrama Entidade-Relacionamento (DER)

## Introdução:

O Diagrama Entidade-Relacionamento (DER) é uma ferramenta fundamental na modelagem conceitual de bancos de dados, desenvolvida originalmente por Peter Chen em 1976. Este modelo gráfico permite representar de forma clara e estruturada os dados de um sistema, suas inter-relações e as regras de negócio que governam essas interações (CHEN, 1976). O DER constitui uma das principais técnicas utilizadas na fase de projeto conceitual de sistemas de informação, antecedendo a implementação física do banco de dados.

O modelo entidade-relacionamento baseia-se em três componentes principais: entidades, que representam objetos ou conceitos do mundo real sobre os quais se deseja armazenar informações; atributos, que são as propriedades ou características das entidades; e relacionamentos, que descrevem as associações entre as entidades (SILBERSCHATZ; GALVIN; GAGNE, 2018). Esta abordagem permite aos desenvolvedores e analistas de sistemas criar uma representação abstrata e independente de tecnologia dos requisitos de dados, facilitando a comunicação entre stakeholders técnicos e não-técnicos.

No contexto do sistema AquiTemFCTE, o DER desempenha um papel crucial na definição da estrutura de dados necessária para suportar as funcionalidades de marketplace acadêmico. Através desta modelagem, é possível identificar as entidades essenciais do domínio, como usuários, produtos, transações e categorias, bem como estabelecer os relacionamentos que governam as interações entre esses elementos. A aplicação rigorosa dos princípios do modelo entidade-relacionamento contribui para a criação de uma base de dados consistente, normalizada e capaz de atender aos requisitos funcionais e não-funcionais do sistema (HEUSER, 2009).

## Diagrama:

<font size="2"><p style="text-align: center"><b>Figura 1:</b> Diagrama de Entidade-Relacionamento</p></font>
![diagrama-de-classes](/../Assets/DER.png)

<font size="2"><p style="text-align: center"><b>Fonte:</b> Daniel Rodrigues, Caio Sabino, Igor Justino, Ludmila Aysha, Isaque Camargos</p></font>

O modelo é composto por cinco entidades principais:

- Aluno: Representa o usuário do sistema. É a entidade central, identificada unicamente pela Matricula (chave primária). Seus atributos incluem dados de identificação e autenticação, como emailInstitucional, nomeSobrenome, senha, fotoPerfil e um ComprovanteMatricula para validação.

- Produto: Representa um item anunciado na plataforma. Cada produto é identificado por um idProduto (chave primária) e possui atributos como nomeProduto, precoProduto, fotoProduto, trocaveis e tipoNegociacao para descrever o item e as condições de troca ou venda.

- Categoria: Organiza os produtos em seções específicas. Possui os atributos idCategoria (chave primária) e nomeCategoria.

- Carrinho: Modela o carrinho de compras de cada aluno. É identificado pelo idCarrinho (chave primária) e atua como uma entidade intermediária para a finalização de uma compra.

- Compra: Registra uma transação finalizada. É identificada pelo idCompra (chave primária) e armazena informações cruciais da transação, como precoTotal e dataHoraCompra.

**Relacionamentos e Cardinalidades**

Os relacionamentos definem como as entidades interagem, estabelecendo as regras de negócio do sistema:

- Vende (Aluno e Produto): Um Aluno pode vender zero ou muitos Produtos (0,n), mas cada Produto é vendido por exatamente um Aluno (1,1). Isso garante que todo anúncio tenha um único responsável.

- Favorita (Aluno e Produto): Este é um relacionamento muitos-para-muitos (N:N). Um Aluno pode favoritar zero ou muitos Produtos (0,n), e um Produto pode ser favoritado por zero ou muitos Alunos (0,n).

- Possui (Aluno e Carrinho): Trata-se de um relacionamento um-para-um (1:1). Cada Aluno possui exatamente um Carrinho, e cada Carrinho pertence a um único Aluno. Essa associação direta e obrigatória garante a unicidade do carrinho por usuário.

- Guarda (Carrinho e Produto): Um relacionamento muitos-para-muitos (N:N). Um Carrinho pode guardar zero ou muitos Produtos (0,n), e um mesmo Produto pode estar no carrinho de vários Alunos simultaneamente (0,n).

- Gera (Carrinho e Compra): Um Carrinho (1,1) pode gerar zero ou muitas Compras (0,n) ao longo do tempo. No entanto, cada Compra é gerada a partir de um único Carrinho, representando um evento de checkout específico.

- Possui (Produto e Categoria): Um relacionamento muitos-para-muitos (N:N), indicando que um Produto pode pertencer a zero ou várias Categorias (0,n) e uma Categoria pode conter de um a muitos Produtos (1,n). Isso permite uma classificação flexível dos itens anunciados.

## Referências:

> CHEN, Peter Pin-Shan. The entity-relationship model: toward a unified view of data. ACM Transactions on Database Systems, v. 1, n. 1, p. 9-36, 1976.

> HEUSER, Carlos Alberto. Projeto de banco de dados. 6. ed. Porto Alegre: Bookman, 2009.

> SILBERSCHATZ, Abraham; GALVIN, Peter Baer; GAGNE, Greg. Fundamentos de sistemas operacionais. 9. ed. Rio de Janeiro: LTC, 2018.

> TEOREY, Toby J. et al. Database modeling and design: logical design. 5. ed. Burlington: Morgan Kaufmann, 2011.

## Histórico de Versão:

| Versão | Data | Descrição | Autor(es) | Revisor(es) | Detalhes da Revisão |
| ------ | ---- | --------- | --------- | ----------- | ------------------- |
| 1.0    | 22/09/2025 | Adiciona tópico de Introdução e Referências | [Daniel Rodrigues](https://github.com/DanielRogs) | [Igor Justino](https://github.com/igorJustino) | Diagrama sem erros identificados e alinhado com o contexto do projeto |
| 1.1. | 22/09/2025   | Adicionar diagrama e explicação             | [Daniel Rodrigues](https://github.com/DanielRogs) | [Ludmila Aysha](https://github.com/ludmilaaysha) | Diagrama sem erros identificados e alinhado com o contexto do projeto |
